"use strict";(self.webpackChunkmatx_react=self.webpackChunkmatx_react||[]).push([[193],{8193:(e,s,r)=>{r.r(s),r.d(s,{default:()=>g});var a=r(6934),t=r(4554),l=r(7621),i=r(1889),n=r(6151),o=r(6748),d=r(2791),c=r(7689),m=(r(8890),r(709)),h=r(6295),u=r(2214),p=r(184);const x=(0,a.ZP)(t.Z)((()=>({display:"flex",alignItems:"center"}))),f=(0,a.ZP)(x)((()=>({justifyContent:"center"}))),b=(0,a.ZP)(t.Z)((e=>{let{theme:s}=e;return{padding:32,background:"rgba(0, 0, 0, 0.01)"}})),j=(0,a.ZP)(f)((()=>({minHeight:"100vh !important","& .card":{maxWidth:800,margin:"1rem",borderRadius:0}}))),g=()=>{const e=(0,c.s0)(),[s,r]=(0,d.useState)(""),[a,t]=(0,d.useState)(""),[x,g]=(0,d.useState)(!1),[w,v]=d.useState(!1);var y=(0,d.useRef)(),N=(0,d.useRef)();const Z=e=>{if(!e.ok)throw new Error("Network response was not ok");return e.json()},k=e=>{console.log("Error fetching user role:",e)},P=(e,s)=>{if(e.status){var a=e.resetToken;r(a),g(!1),v(!0),s.target.reset()}else g(!1),t("Invalid Email address."),(0,u.Z)("Fail-Create",e.message)},C=(s,r)=>{s.status?(g(!1),(0,u.Z)("Update").then((()=>{e("/session/signin")})),r.target.reset()):(g(!1),(0,u.Z)("Fail-Create",s.message))};return(0,p.jsxs)(j,{className:"bg-white",children:[(0,p.jsx)("title",{children:"Admin panel - forgot Password"}),(0,p.jsx)(l.Z,{className:"card bg-white",children:(0,p.jsx)(i.ZP,{container:!0,className:" bg-white",children:(0,p.jsxs)(i.ZP,{item:!0,xs:12,children:[(0,p.jsx)(f,{p:3,children:(0,p.jsx)("img",{width:"200",src:"/Digi2limage/logo12223231.svg",alt:""})}),w?(0,p.jsx)(b,{id:"PasswordBox",children:(0,p.jsxs)("form",{onSubmit:e=>{e.preventDefault();var r=N.current.value;(new Headers).append("Content-Type","application/json");var a=JSON.stringify({newPassword:r});(0,h.Z)(m.Z.ForgotPassword,a,s).then(Z).then((s=>C(s,e))).catch(k)},className:x?"was-validated":"",children:[(0,p.jsxs)("div",{className:"mb-2 form-group",children:[(0,p.jsx)("h1",{className:"text-center",children:"Change Your Password "}),(0,p.jsxs)("label",{children:["New Password ",(0,p.jsx)("span",{style:{color:"red"},children:"*"})]}),(0,p.jsx)("input",{type:"text",className:"form-control",placeholder:"Enter password",ref:N,required:!0}),(0,p.jsx)("div",{class:"invalid-feedback",children:"Please fill out password field."})]}),(0,p.jsx)(o.nv,{className:"p-1",children:"If you change or reset your password, you\u2019ll be signed out everywhere ."}),(0,p.jsx)("input",{onClick:()=>g(!0),value:" New Update",fullWidth:!0,type:"submit",className:"btn btn-primary  mb-3 mt-2 w-100"}),w?(0,p.jsx)("label",{style:{color:"red"},children:a}):"",(0,p.jsx)(n.Z,{fullWidth:!0,className:"btn btn-primary mb-3 mt-2 ",onClick:()=>e(-1),sx:{mt:2},children:"Go Back"})]})}):(0,p.jsx)(b,{id:"EmailBox",children:(0,p.jsxs)("form",{onSubmit:e=>{e.preventDefault();var s=y.current.value,r=JSON.stringify({user_email:s});(0,h.Z)(m.Z.ResetLinkApi,r).then(Z).then((s=>P(s,e))).catch(k)},className:x?"was-validated":"",children:[(0,p.jsxs)("div",{className:"mb-2 form-group",children:[(0,p.jsx)("h1",{children:"Forgot Password?"}),(0,p.jsxs)("label",{children:["Email ",(0,p.jsx)("span",{style:{color:"red"},children:"*"})]}),(0,p.jsx)("input",{type:"email",className:"form-control",placeholder:"Enter a Email",ref:y,required:!0}),(0,p.jsx)("div",{class:"invalid-feedback",children:"Please fill out email field."})]}),(0,p.jsx)(o.nv,{className:"p-1",children:"Enter your email address to reset your password"}),(0,p.jsx)("input",{onClick:()=>g(!0),value:" forgot",fullWidth:!0,type:"submit",className:"btn btn-primary  mb-3 mt-2 w-100"}),a?(0,p.jsx)("label",{style:{color:"red"},children:a}):"",(0,p.jsx)(n.Z,{type:"submit",fullWidth:!0,className:"btn btn-primary mb-3 mt-2 ",sx:{mt:2},children:"Go Back"})]})})]})})})]})}}}]);
//# sourceMappingURL=193.ea5fd10f.chunk.js.map